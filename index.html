<!doctype html>
<html >
<head>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!--[if lt IE 9]>
                <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
        <![endif]-->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />

    <!-- <link rel="stylesheet" type="text/css" href="template.css" /> -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/template.css" />

    <link href="https://vjs.zencdn.net/5.4.4/video-js.css" rel="stylesheet" />

    <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
    <!-- <script type='text/javascript' src='menu/js/jquery.cookie.js'></script> -->
    <!-- <script type='text/javascript' src='menu/js/jquery.hoverIntent.minified.js'></script> -->
    <!-- <script type='text/javascript' src='menu/js/jquery.dcjqaccordion.2.7.min.js'></script> -->

    <!-- <link href="menu/css/skins/blue.css" rel="stylesheet" type="text/css" /> -->
    <!-- <link href="menu/css/skins/graphite.css" rel="stylesheet" type="text/css" /> -->
    <!-- <link href="menu/css/skins/grey.css" rel="stylesheet" type="text/css" /> -->
  
    <!-- <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> -->
        
  
    <!-- <script src="script.js"></script> -->
  
    <!-- <script src="jquery.sticky-kit.js "></script> -->
    <script type='text/javascript' src='https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/menu/js/jquery.cookie.js'></script>
    <script type='text/javascript' src='https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/menu/js/jquery.hoverIntent.minified.js'></script>
    <script type='text/javascript' src='https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/menu/js/jquery.dcjqaccordion.2.7.min.js'></script>

    <link href="https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/menu/css/skins/blue.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/menu/css/skins/graphite.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/menu/css/skins/grey.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/gh/ryangrose/easy-pandoc-templates@948e28e5/css/elegant_bootstrap.css" rel="stylesheet" type="text/css" />
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  
    <script src="https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/script.js"></script>
  
    <script src="https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/jquery.sticky-kit.js"></script>
    <meta name="generator" content="pandoc" />
  <title>ISE-report 21 game</title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>

    
    <div class="navbar navbar-static-top">
    <div class="navbar-inner">
      <div class="container">
        <span class="doc-title">ISE-report 21 game</span>
        <ul class="nav pull-right doc-info">
                            </ul>
      </div>
    </div>
  </div>
    <div class="container">
    <div class="row">
            <div id="TOC" class="span3">
        <div class="well toc">

        <ul>
        <li><a href="#abstract" id="toc-abstract">Abstract</a></li>
        <li><a href="#ch:goal" id="toc-ch:goal">Goal/Objectives</a>
        <ul>
        <li><a href="#goals-of-this-project"
        id="toc-goals-of-this-project">Goals of this project:</a></li>
        <li><a href="#usage-scenarios" id="toc-usage-scenarios">Usage
        scenarios</a></li>
        <li><a href="#definition-of-done"
        id="toc-definition-of-done">Definition of done</a></li>
        </ul></li>
        <li><a href="#background-and-link-to-the-theory"
        id="toc-background-and-link-to-the-theory">Background and link
        to the theory</a></li>
        <li><a href="#requirements-analysis"
        id="toc-requirements-analysis">Requirements Analysis</a>
        <ul>
        <li><a href="#implicit-requirements"
        id="toc-implicit-requirements">Implicit Requirements</a></li>
        </ul></li>
        <li><a href="#design" id="toc-design">Design</a>
        <ul>
        <li><a href="#structure-domain-entities"
        id="toc-structure-domain-entities">Structure (domain
        entities)</a></li>
        <li><a href="#interaction"
        id="toc-interaction">Interaction</a></li>
        <li><a href="#architecture"
        id="toc-architecture">Architecture</a></li>
        </ul></li>
        <li><a href="#salient-implementation-details"
        id="toc-salient-implementation-details">Salient implementation
        details</a>
        <ul>
        <li><a href="#asincronus-agents"
        id="toc-asincronus-agents">Asincronus Agents</a></li>
        <li><a href="#hilo-agent" id="toc-hilo-agent">HiLo
        Agent</a></li>
        <li><a href="#consensuos"
        id="toc-consensuos">Consensuos</a></li>
        </ul></li>
        <li><a href="#deployment-instructions"
        id="toc-deployment-instructions">Deployment
        Instructions</a></li>
        <li><a href="#usage-examples" id="toc-usage-examples">Usage
        Examples</a></li>
        <li><a href="#conclusions"
        id="toc-conclusions">Conclusions</a></li>
        </ul>

        </div>
      </div>
            <div class="span9">

      
      <div class="titlepage">
<div class="center">
<p><span>University of Bologna<br />
Department of Computer Science</span><br />
<span> Report Itelligent System Project </span> <span> BDI 21 player
agent </span>  <br />
<span> Matteo Santoro </span><br />
<span> <em>Supervisor:</em> Andrea Omicini</span><br />
<span> <em>Supervisor:</em> Giavanni Ciatto</span><br />
</p>
<p>2025-02-15</p>
</div>
</div>
<h1 class="unnumbered" id="abstract">Abstract</h1>
<p>Smart 21 aims to develop an intelligent system composed of agents
that are capable of playing 21. The objective is to create different
agents with different levels of intelligence to exploit the famouse
game, cheating like counting the cards is not forbideen here but
encouraged. Table will be attended always by a single agent that plays
against a dealer and has a precise amount of funds to raise or to loose.
Deck will be the classical 52 cards in two colors so 104 cards and when
all the cards are used another deck will be used so the game could go
on.  <br />
Expectation are to find the ideal BDI to create an agent capable of
understand when is hand is gonna win so raise the bet and the
opposite.</p>
<h1 id="ch:goal">Goal/Objectives</h1>
<h2 id="goals-of-this-project">Goals of this project:</h2>
<ul>
<li><p>Implement a multi-agent system that includes different levels of
intelligence for a card-playing bot.</p></li>
<li><p>Define and implement autonomous behaviors for the bots, allowing
them to make strategic decisions based on the context of the game.</p>
<ul>
<li><p>Casual player</p></li>
<li><p>Make an HiLo strategic agent.</p></li>
<li><p>Create a group of strategic agents that suggest moves to the
player.</p></li>
</ul></li>
<li><p>Transpose agent decision on a GUI that shows a visual table and
cards.</p></li>
<li><p>Measure the winning rate of the agents.</p></li>
</ul>
<h2 id="usage-scenarios">Usage scenarios</h2>
<p>Smart 21 will be a full simulation of the real game. Users can decide
to play 21 for fun or test the ability of the agents by letting them
play and analyze their stategies.</p>
<h2 id="definition-of-done">Definition of done</h2>
<p>Final delivery will be a gradle project that has different running
options:</p>
<ul>
<li><p>1. Pure 21 game.</p></li>
<li><p>2. Dumb agent that plays with BDI defined by common
sense.</p></li>
<li><p>3. HiLo agent that expoilts HiLO algorithm to count cards and
decide autonomously how much money bet on a hand.</p></li>
<li><p>4. Consensuos guided agent by different strategies.</p></li>
</ul>
<p>To test the agents implementation will be measured the amount of
money won and risked and compared this data in a grafical
representation.</p>
<h1 id="background-and-link-to-the-theory">Background and link to the
theory</h1>
<p>(To be written at the end) • Relevant architectural styles (the ones
mentioned in Section 3) • Relevant interaction patterns (the ones
mentioned in Section 3) • Relevant software frameworks (the ones
mentioned in Sections 3 and 4)</p>
<h1 id="requirements-analysis">Requirements Analysis</h1>
<h2 id="implicit-requirements">Implicit Requirements</h2>
<ul>
<li><p>Software must adhere to the rules of 21, so it must be capable of
know who wins the hand and give the right amount of money to the
winner.</p></li>
<li><p>Users must be capable of following the game flow so the agents
need to implement a slowdown mechanism and maybe a clear log.</p></li>
<li><p>During each phase of the game the agent must know what to do from
his understandings.</p></li>
<li><p>Bots should exhibit appropriate strategic behaviors based on
their level and knowledge about the game.</p></li>
</ul>
<h1 id="design">Design</h1>
<p>This is a multi-purpose system, it can be used as a classical game to
occupy time by a user or can be played by intelligent agent to instruct
the user with some basic stategy of the game. <strong>MAS
(Multi-agent-system)</strong> architecture is used here to coordinate
the activities of the player agents and strategic agents. A good
abstraction used is the one that compares the Environment typically used
in MAS with the table game where agents, based on their intentions and
belief react according to changes like:</p>
<ul>
<li><p>Place the cards.</p></li>
<li><p>Stand.</p></li>
<li><p>Bet.</p></li>
<li><p>Raise the bet.</p></li>
<li><p>Every entity involved in the action can perfectly see the
(virtual) table with cards and money on</p></li>
</ul>
<p>The interaction between agents is controlled by
<strong>TwentyOneEnvironment</strong> that encapsulates a gameTable
object that contains most of the business logic of the game. This system
includes also a user graphical interface for monitoring the developement
of the game.</p>
<h2 id="structure-domain-entities">Structure (domain entities)</h2>
<div id="tab:domain_entities">
<table>
<caption>Domain Entities</caption>
<thead>
<tr>
<th style="text-align: center;"><strong>Entity</strong></th>
<th style="text-align: left;"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Player</td>
<td style="text-align: left;">The main participant who makes decisions
based on game conditions.</td>
</tr>
<tr>
<td style="text-align: center;">Dealer</td>
<td style="text-align: left;">The entity responsible for managing the
game, distributing cards, and enforcing rules.</td>
</tr>
<tr>
<td style="text-align: center;">Strategic Agent</td>
<td style="text-align: left;">An abstract entity that provides advice to
the player and influences their decisions.</td>
</tr>
</tbody>
</table>
</div>
<figure id="fig:classDiagram">
<img src="report/img/classDiagram.png" />
<figcaption>Diagramma delle classi</figcaption>
</figure>
<h2 id="interaction">Interaction</h2>
<figure id="fig:classDiagram">
<p><img src="report/img/sequenceDiagram.png" alt="image" /> <span
id="fig:classDiagram" data-label="fig:classDiagram"></span></p>
</figure>
<figure id="fig:classDiagram">
<img src="report/img/sequenceDiagram2.png" />
<figcaption>Diagramma delle classi</figcaption>
</figure>
<figure id="fig:activityDiagram">
<img src="report/img/activityDiagram.png" />
<figcaption>Diagramma delle attività</figcaption>
</figure>
<h2 id="architecture">Architecture</h2>
<p>The project follows the basic guidelines of the MAS architecture, to
support and divide the responsability a GameEnvironmentUtils has been
made to mantain a cleaner code that handles the action and beliefs of
the agents. The more complex case of study in which an agent player
relies on strategist agent has been moved to a specifc package inside
the asl directory. Noteworthy is the implementation of the
TwentyOneEnvironment that is used for all the case studies, a little
attention has been given to some functionalities that are needed only in
certain scenarios. For example the strategist agents only have to know
the cards of the player only at the end of the game to update their card
count when in the other circumstances player updates his internal
counter in real time when sees dealer cards or hits.</p>
<pre id="lst:java_stand_action" style="java"
data-caption="Java implementation of different behaviour based on specifc agent"
data-label="lst:java_stand_action"><code>if(&quot;stand&quot;.equals(act)) {
        this.appWindow.actionPerformed(GameCommand.STAND);
        GameEnvUtils.checkBusted(this, agName, this.gamePanel.getDealer());
        final List&lt;Integer&gt; cardSeenValues = new ArrayList&lt;&gt;();
        // aggiunto le carte del dealer
        cardSeenValues.addAll(this.gamePanel.getDealer().hand.stream().map(Card::getValue).collect(Collectors.toList()));
        if(!&quot;waysmarterplayer&quot;.equals(agName) &amp;&amp; !&quot;smartplayer&quot;.equals(agName)){
            //aggiungo anche le carte del giocatore a fine mano
            cardSeenValues.addAll(this.gamePanel.getPlayer().hand.stream().map(Card::getValue).collect(Collectors.toList()));
        }
        GameEnvUtils.sendToAgentHandToCount(this, agName, cardSeenValues);
        return true;
    }</code></pre>
<h1 id="salient-implementation-details">Salient implementation
details</h1>
<p>Anything potentially interesting / non-trivial and technologies
adopted to match the design. This section is expected to be short in
case some documentation (e.g. Javadoc or Swagger Spec) has been produced
for the software artefacts. This this case, the produced documentation
should be referenced here.</p>
<h2 id="asincronus-agents">Asincronus Agents</h2>
<h2 id="hilo-agent">HiLo Agent</h2>
<h2 id="consensuos">Consensuos</h2>
<h1 id="deployment-instructions">Deployment Instructions</h1>
<p>The software has quite a simple deployment, a gradle application is
used to build and run all the case studied. Running the following
commands will allow to test rispectively</p>
<ul>
<li><p>the "Smart" Agent.</p></li>
<li><p>the waySmarterPlayer counting cards.</p></li>
<li><p>the centralized strategic group of agents</p></li>
</ul>
<pre id="lst:bash_tasks" style="gradlestyle"
data-caption="Runnable tasks" data-label="lst:bash_tasks"><code>Run tasks
    ---------
    runsmartPlayerMAS - Esegue il MAS smartPlayer.mas2j
    runStrategistMAS - Esegue il MAS Strategist.mas2j
    runwaySmarterPlayerMAS - Esegue il MAS waySmarterPlayer.mas2j</code></pre>
<h1 id="usage-examples">Usage Examples</h1>
<p>Show how to use the produced software artefacts. Ideally, there
should be at least one example for each scenario proposed above.</p>
<h1 id="conclusions">Conclusions</h1>
<p>Recap what you did.</p>
            </div>
    </div>
  </div>
  <script src="https://vjs.zencdn.net/5.4.4/video.js"></script>

</body>
</html>
